<?xml version="1.0" encoding="utf-8"?>
<LocaleMap 	xmlns="http://com.asfusion.mate/l10n"
			xmlns:mx="http://www.adobe.com/2006/mxml" >
	
	<mx:Metadata>
		<!--
			Using compiler arguments -locale=en_US,es_ES,fr_FR,zh_CN -allow-source-path-overlap=true -source-path+=locale/{locale}
		    with the metaTag below forces the compiler to EMBED the compiled resource bundles
		-->
		[ResourceBundle("store")]
	</mx:Metadata>
	
	<mx:Script>
		<![CDATA[
			import l10n.views.LanguageBar;
			
			[Bindable] 
			public var phone : Object = null;
			
			/**
			 *  EventHandler when locales change to new Catalog xml data to be loaded
			 *  This xml data has localized versions of the catalog.
			 */
			private function onLocaleChanged(event:Event):void {
				var sri : SmartResourceInjector  = (event.target as SmartResourceInjector);
				var app : FlexStore4             = sri.targetInstances[0] as FlexStore4;
				
				// Dynamically reload the XML data with localized text for each Phone catalog entry
				if (app != null) app.catalogLoader.send();
			}
			
		]]>
	</mx:Script>
	
	<SmartResourceInjector bundleName="store" target="{FlexStore4}" localeChange="onLocaleChanged(event);">
		<ResourceProxy property="catalogLoader.url" 			key="data.url" />
		
		<ResourceProxy property="lblDescription.text" 			key="details.title" parameters="{[phone.name]}"/>
		<ResourceProxy property="lblCatalog.text" 				key="catalog.title" />
		
		<ResourceProxy property="lblFilters.text" 				key="filters.title" />
		<ResourceProxy property="lblMaxPrice.text" 				key="filters.maxPrice" />
		<ResourceProxy property="chbxCamera.label" 				key="filters.option.camera" />
		<ResourceProxy property="chbxVideo.label" 				key="filters.option.video" />
		<ResourceProxy property="chbxTriband.label" 			key="filters.option.triband" />
	</SmartResourceInjector>
		
	<SmartResourceInjector bundleName="store" target="{LanguageBar}">
		<ResourceProxy property="lblBarHelp.text" 	key="languagebar.title" />
	</SmartResourceInjector>

</LocaleMap>